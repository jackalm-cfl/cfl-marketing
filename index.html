<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CFL Marketing Analytics Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root{
      --bg: #f5f6f8;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
      --shadow: 0 12px 34px rgba(0,0,0,0.12);
      --brand: #2563eb; /* accent */
      --brandDark: #1e40af;
    }

    * { box-sizing: border-box; }
    body { margin: 0; font-family: Arial, sans-serif; background: var(--bg); color: var(--text); }

    /* Top Brand Bar */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 10;
      background: #004393;
      color: white;
      border-bottom: 1px solid rgba(255,255,255,0.08);
    }
    .topbar-inner {
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px 18px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }
    .brand-left { display: flex; align-items: center; gap: 12px; min-width: 0; }
    .logo {
      width: 34px; height: 34px;
      border-radius: 8px;
      background: rgba(255,255,255,0.12);
      display: grid;
      place-items: center;
      overflow: hidden;
      flex: 0 0 auto;
    }
    .logo img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .brand-text { min-width: 0; }
    .brand-name { font-weight: 700; font-size: 15px; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .brand-sub { font-size: 12px; color: rgba(255,255,255,0.70); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    .pill {
      font-size: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
      color: rgba(255,255,255,0.92);
      white-space: nowrap;
    }

    /* Layout */
    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 26px 18px 36px;
    }

    /* Login Card */
    .login-card {
      max-width: 460px;
      margin: 60px auto 0;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      padding: 26px;
    }
    .login-title { font-size: 18px; font-weight: 700; margin: 0 0 6px 0; }
    .login-desc { margin: 0 0 16px 0; color: var(--muted); font-size: 13px; line-height: 1.5; }

    .field-label { font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    .input {
      width: 100%;
      padding: 12px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      font-size: 14px;
      outline: none;
      transition: border 0.15s ease;
    }
    .input:focus { border-color: rgba(37,99,235,0.55); }

    .btn {
      width: 100%;
      margin-top: 12px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      background: var(--brand);
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.02s ease, opacity 0.15s ease, background 0.15s ease;
      font-size: 14px;
    }
    .btn:hover { background: var(--brandDark); }
    .btn:active { transform: translateY(1px); }

    .error {
      margin-top: 10px;
      color: #b91c1c;
      min-height: 18px;
      font-size: 13px;
    }

    .tip {
      margin-top: 10px;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.4;
    }

    /* Dashboard view */
    #dashboard { display: none; }

    .dash-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin: 6px 0 12px;
    }
    .dash-title {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }
    .dash-title strong {
      font-size: 14px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .dash-title span {
      font-size: 12px;
      color: var(--muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .logout {
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: white;
      cursor: pointer;
      font-weight: 700;
      font-size: 13px;
    }
    .logout:hover { opacity: 0.92; }

    iframe {
      width: 100%;
      height: 900px;
      border: none;
      border-radius: 16px;
      background: white;
      box-shadow: 0 10px 24px rgba(0,0,0,0.08);
    }

    /* Small screens */
    @media (max-width: 520px) {
      .login-card { margin-top: 34px; padding: 20px; }
      iframe { height: 820px; border-radius: 12px; }
    }
  </style>
</head>

<body>
  <!-- Brand bar -->
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand-left">
        <div class="logo" id="logoBox">
          <!-- If you have a logo file, set logoUrl below and it will show here -->
          <span style="font-weight:800;color:white;">◎</span>
        </div>
        <div class="brand-text">
          <div class="brand-name" id="brandName">CFL</div>
          <div class="brand-sub" id="brandSub">Analytics Portal</div>
        </div>
      </div>
      <div class="pill" id="statusPill">Secure access</div>
    </div>
  </div>

  <div class="wrap">

    <!-- LOGIN -->
    <div class="login-card" id="loginBox">
      <h1 class="login-title">User login</h1>
      <p class="login-desc">Enter your access password to view your dashboard.</p>

      <div class="field-label">Password</div>
      <input class="input" type="password" id="passwordInput" placeholder="••••••••" autocomplete="current-password" />
      <button class="btn" type="button" onclick="login()">Sign in</button>

      <div class="error" id="error"></div>
      <div class="tip">Tip: press <b>Enter</b> to sign in.</div>
    </div>

    <!-- DASHBOARD -->
    <div id="dashboard">
      <div class="dash-head">
        <div class="dash-title">
          <strong id="clientLabel">Dashboard</strong>
          <span id="clientSub">Viewing report</span>
        </div>
        <button class="logout" type="button" onclick="logout()">Logout</button>
      </div>

      <!-- Lazy-loaded after login (helps Looker charts render correctly) -->
      <iframe id="reportFrame" title="Looker Studio Report"></iframe>
    </div>
  </div>

  <script>
    // =========================
    // BRANDING (EDIT THESE)
    // =========================
    const brand = {
      companyName: "CFL",
      subtitle: "Analytics Portal",
      accentColor: "#2563eb",  // button + highlights
      accentDark: "#1e40af",
      // Put your logo file in the same folder as index.html (e.g., logo.png) and set:
      // logoUrl: "FL logo.png"
      logoUrl: "CFL logo.png" // leave empty to use placeholder
    };

    // Apply branding
    document.documentElement.style.setProperty("--brand", brand.accentColor);
    document.documentElement.style.setProperty("--brandDark", brand.accentDark);
    document.getElementById("brandName").textContent = brand.companyName;
    document.getElementById("brandSub").textContent = brand.subtitle;

    if (brand.logoUrl) {
      const logoBox = document.getElementById("logoBox");
      logoBox.innerHTML = `<img src="${brand.logoUrl}" alt="${brand.companyName} logo">`;
    }

    // =========================
    // DASHBOARDS (EDIT THESE)
    // =========================
    // Use Looker Studio EMBED urls: https://lookerstudio.google.com/embed/reporting/...
    const dashboards = {
      "AudacityCFL123": {
        name: "Audacity Dashboard",
        sub: "Digital Marketing",
        url: "https://lookerstudio.google.com/embed/reporting/29314288-96cf-4be0-876d-56cafdb74001/page/X2L9D"
      },
      "FirmfitCFL123": {
        name: "Firmfit Dashboard",
        sub: "Digital Marketing",
        url: "https://lookerstudio.google.com/embed/reporting/de92f135-cee8-451f-917e-0c241c589348/page/X2L9D"
      },
      "NeptuneCFL123": {
        name: "Neptune Dashboard",
        sub: "Digital Marketing",
        url: "https://lookerstudio.google.com/embed/reporting/69998692-c0d8-40aa-b09b-b6a99b17ee24/page/p_kji3ufqckd"
      }
    };

    // Enter submits
    document.getElementById("passwordInput").addEventListener("keydown", (e) => {
      if (e.key === "Enter") login();
    });

    function login() {
      const entered = document.getElementById("passwordInput").value.trim();
      const errorEl = document.getElementById("error");
      const match = dashboards[entered];

      if (!match) {
        errorEl.textContent = "Incorrect password";
        return;
      }

      // Show dashboard first so Looker renders with correct dimensions
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("dashboard").style.display = "block";

      document.getElementById("clientLabel").textContent = match.name;
      document.getElementById("clientSub").textContent = match.sub || "Viewing report";

      // Lazy-load iframe
      const frame = document.getElementById("reportFrame");
      frame.src = match.url;

      errorEl.textContent = "";
    }

    function logout() {
      const frame = document.getElementById("reportFrame");
      frame.src = ""; // clear report

      document.getElementById("dashboard").style.display = "none";
      document.getElementById("loginBox").style.display = "block";
      document.getElementById("passwordInput").value = "";
      document.getElementById("error").textContent = "";
      document.getElementById("clientLabel").textContent = "";
      document.getElementById("clientSub").textContent = "";
    }
  </script>
</body>
</html>
